【Java 資料庫存取技術 (Persistence) 三大流派比較】

我們可以用「開車」來比喻這三種不同的技術層次：

1. JdbcTemplate (手排跑車 🏎️)
-----------------------------------------------
- 概念：這是最底層、最原始的操作方式。
- 特點：
  - 必須自己手寫 SQL (SELECT * FROM...)。
  - 必須自己處理欄位對應 (setString, getInt)。
- 優點：效能最高，完全掌控每一個細節。
- 缺點：開發速度慢，程式碼冗長，寫錯一個 SQL 關鍵字就掛掉。
- 適合：追求極致效能，或有極度複雜 SQL 查詢的場景。

2. Spring Data JDBC (自排轎車 🚙) -> 【本專案使用】
-----------------------------------------------
- 概念：Spring 幫忙處理了 80% 的雜事，保留了 SQL 的單純性。
- 特點：
  - 不需要手寫基本 CRUD (新增/修改/刪除/查詢)。
  - 會自動把 Java 物件對應到資料庫 Table。
  - 沒有快取 (Cache)、沒有延遲加載 (Lazy Loading) 等「黑魔法」。
- 優點：
  - 簡單好學，邏輯直覺 (叫它存它就存)。
  - 除錯容易，發生問題通常一看就知道原因。
- 缺點：
  - 功能沒有 JPA 強大 (例如沒有自動關聯查詢)。
- ★本次踩到的坑 (The Trap)：
  - 它的判斷邏輯非常單純：「看 ID 欄位」。
  - ID 是空的 (null) -> 判定為新資料 -> 執行 INSERT。
  - ID 有值 -> 判定為舊資料 -> 執行 UPDATE。
  - 解法：如果我們「手動填了 ID (UUID)」，必須實作 `Persistable` 介面，明確舉手告訴它「我是新來的 (isNew = true)」，否則它會因為 UPDATE 找不到資料而報錯。

3. Spring Data JPA / Hibernate (特斯拉/自動駕駛 🤖)
-----------------------------------------------
- 概念：這是一個超大型的全自動框架。
- 特點：
  - 把資料庫完全視為物件 (Object)，甚至可以不用知道資料庫長怎樣。
  - 擁有強大的功能：一級/二級快取、Dirty Checking (物件改了自動存)、Lazy Loading。
- 優點：開發大型複雜關聯系統時非常快速。
- 缺點：
  - 「黑魔法」太多，有時候不知道它背後偷偷下了什麼 SQL (著名的 N+1 問題)。
  - 啟動慢，記憶體佔用高。
  - 學習曲線極高，新手容易寫出效能極差的程式碼。

---------------
【總結】
對於 RC Toy Shop 這樣的中小型電商專案，Spring Data JDBC (自排車) 是最完美的平衡點。它既不需要像手排車那樣累人，也不會像特斯拉那樣難以駕馭。
